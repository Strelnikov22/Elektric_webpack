(()=>{"use strict";const e=class{constructor({overlay:e,modal:t,closeBtn:i,openBtn:s,animation:n={overlayOpen:"animate__fadeIn",overlayClose:"animate__fadeOut",typeOpen:"animate__fadeIn",typeClose:"animate__fadeOut"}}){this.overlay=document.querySelector(e),this.modal=document.querySelector(t),this.closeBtn=document.querySelectorAll(i),this.openBtn=document.querySelectorAll(s),this.animation=n}verificationAnimate(){document.querySelector('[href*="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"]')||this.linkedAnimate()}linkedAnimate(){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"),document.head.append(e)}modalEvent(){this.openBtn.forEach((e=>{this.eventOpenForEach(e)})),this.closeBtn.forEach((e=>{this.eventCloseForEach(e)})),this.overlay.addEventListener("click",this.closeModal.bind(this))}eventOpenForEach(e){e.addEventListener("click",this.openModal.bind(this))}eventCloseForEach(e){e.addEventListener("click",this.closeModal.bind(this))}openModal(e){e.preventDefault(),this.overlay.style.display="block",this.overlay.classList.remove(this.animation.overlayClose),this.overlay.classList.add("animate__animated",this.animation.overlayOpen),setTimeout(this.animateModal.bind(this),1e3)}animateModal(){this.modal.style.display="block",this.modal.classList.remove(this.animation.typeClose),this.modal.classList.add("animate__animated",this.animation.typeOpen)}closeModal(){setTimeout(this.closeOverlay.bind(this),500),this.modal.classList.remove(this.animation.typeOpen),this.modal.classList.add(this.animation.typeClose),setTimeout(this.setMod.bind(this),300)}closeOverlay(){this.overlay.classList.remove(this.animation.overlayOpen),this.overlay.classList.add(this.animation.overlayClose),setTimeout(this.setOver.bind(this),300)}setOver(){this.overlay.style.display="none",this.clearStyle()}setMod(){this.modal.style.display="none"}clearStyle(){this.modal.classList.remove("animate__animated",this.animation.typeOpen,this.animation.typeClose),this.overlay.classList.remove("animate__animated",this.animation.overlayOpen,this.animation.overlayClose),this.modal.removeAttribute("style"),this.overlay.removeAttribute("style")}init(){this.verificationAnimate(),this.modalEvent()}},t=class{constructor({arrowTop:e,link:t}){this.up=document.querySelector(e),this.link=document.querySelectorAll(t)}upEvent(){this.up.addEventListener("click",this.scrollUp.bind(this)),window.addEventListener("scroll",this.scrollHidden.bind(this))}scrollUp(){let e=document.querySelector("#top");console.log(e),e.scrollIntoView({block:"start",behavior:"smooth"})}scrollHidden(){this.up.hidden=pageYOffset<document.documentElement.clientHeight}linkAlone(){this.link.forEach(this.elementEvent.bind(this))}elementEvent(e){e&&e.addEventListener("click",(function(t){t.preventDefault();let i=e.getAttribute("href");document.querySelector(i).scrollIntoView({block:"start",behavior:"smooth"})}))}init(){this.linkAlone(),this.upEvent()}},i=new e({overlay:".modal-overlay",modal:".modal-callback",closeBtn:".modal-close",openBtn:".header .callback-btn, .fancyboxModal",animation:{overlayOpen:"animate__fadeIn",overlayClose:"animate__fadeOut",typeOpen:"animate__zoomIn",typeClose:"animate__zoomOut"}});i.init(),new class{constructor({itemContainer:e,item:t,animation:i={typeOpen:"animate__fadeIn",typeClose:"animate__fadeOut"}}){this.itemContainer=document.querySelector(e),this.item=document.querySelectorAll(t),this.itemId=0,this.itemLength=this.item.length,this.animation=i}verificationAnimate(){document.querySelector('[href*="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"]')||this.linkedAnimate()}linkedAnimate(){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"),document.head.append(e)}startSlide(e){setInterval(this.autoPlaySlide.bind(this),e)}autoPlaySlide(){this.prefSlide(this.item,this.itemId,"active"),this.itemId++,this.itemId>=this.itemLength&&(this.itemId=0),this.nextSlider(this.item,this.itemId,"active")}prefSlide(e,t,i){e[t].classList.remove(this.animation.typeOpen),e[t].classList.add("animate__animated",this.animation.typeClose),setTimeout((function(){e[t].classList.remove(i)}),500)}nextSlider(e,t,i){e[t].classList.remove(this.animation.typeClose),e[t].classList.add("animate__animated",this.animation.typeOpen),setTimeout((function(){e[t].classList.add(i)}),500)}init(){this.verificationAnimate(),this.startSlide(3500)}}({itemContainer:".top-slider",item:".item",animation:{typeOpen:"animate__fadeIn",typeClose:"animate__fadeOut"}}).init(),new e({overlay:".overlay",modal:".mobile-menu",closeBtn:".mobile-menu-close, .mobile-menu li a, .callback-btn",openBtn:".mob-menu-btn",animation:{overlayOpen:"animate__fadeIn",overlayClose:"animate__fadeOut",typeOpen:"animate__slideInLeft",typeClose:"animate__slideOutLeft"}}).init(),new t({arrowTop:".up",link:".top-menu a"}).init(),new t({arrowTop:".up",link:".mobile-menu ul a"}).init(),new class{constructor({element:e,elements:t,elemContent:i}){this.elemAcardion=document.querySelector(e),this.elements=this.elemAcardion.querySelectorAll(t),this.elemContent=document.querySelectorAll(i),this.elementContentClass=i}elemEvent(){this.elemAcardion.addEventListener("click",this.elemAlone.bind(this))}elemAlone(e){let t=e.target;if(t.matches(".title")){let e=t.closest(".element"),i=e.querySelector(this.elementContentClass);e.matches(".active")?(e.classList.remove("active"),i.classList.remove("activeContent")):(this.elemContentClose(),this.elemTitleClose(),e.classList.add("active"),i.classList.add("activeContent"))}}elemContentClose(){this.elemContent.forEach((e=>{e.classList.remove("activeContent")}))}elemTitleClose(){this.elements.forEach((e=>{e.classList.remove("active")}))}init(){this.elemEvent()}}({element:".accordeon",elements:".element",elemContent:".element-content"}).init(),new class{constructor({name:e,tel:t,form:i,closeTrigger:s}){this.name=document.querySelector(e),this.tel=document.querySelector(t),this.form=document.querySelector(i),this.closeM=s,this.errorSms="Sorry, but we have a problem :(",this.loadSms="Loading...",this.successSms="Thank you, we will contact you shortly :)",this.statusSms=document.createElement("div")}formEvent(){this.form.addEventListener("submit",this.pushData.bind(this))}pushData(e){e.preventDefault(),this.statusSms.textContent=this.loadSms,this.form.appendChild(this.statusSms),this.post()}clearFormField(){this.name.value="",this.tel.value="",this.statusSms.textContent=""}post(){let e={name:this.name.value,tel:this.tel.value};this.postData(e).then(this.successMessage.bind(this)).then(this.closeWind.bind(this)).catch(this.errorMessage.bind(this))}successMessage(e){if(200!==e.status)throw new Error("Cервер не дает ответа");this.statusSms.textContent=this.successSms,this.clearFormField()}closeWind(){return setInterval(this.closeM.closeModal(),2500)}errorMessage(e){this.statusSms.textContent=this.errorSms,console.error(e),this.clearFormField()}postData(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}init(){this.formEvent()}}({name:".form-name",tel:".form-tel",form:".form-modal",closeTrigger:i}).init()})();